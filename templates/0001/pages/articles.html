{{ define "title" }}All Articles{{ end }} {{ define "content" }}
<div class="flex flex-col p-4 gap-10 max-w-screen-xl mx-auto">
  <section class="flex flex-col gap-6">
    <h1 class="text-3xl font-bold text-primary font-mono">
      <span class="underline underline-offset-8">All</span> Articles
    </h1>

    <!-- Search and Tag Filter Panel -->
    <div
      class="flex flex-col gap-4 bg-white rounded-lg shadow p-4 border border-gray-200"
    >
      <input
        id="articleSearch"
        type="text"
        placeholder="Search articles..."
        class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary/30 text-sm"
      />
      <div class="flex items-center gap-2">
        <span class="font-semibold text-primary whitespace-nowrap"
          >Filter by tag:</span
        >
        <div class="flex flex-wrap gap-2 w-full" id="tagFilterPanel">
          <button
            class="tag-filter px-3 py-1 rounded-full bg-gray-100 text-primary-700 text-xs border border-primary hover:bg-primary hover:text-white transition whitespace-nowrap"
            data-tag="all"
          >
            All
          </button>

          {{ range .item_tags }}
          <button
            class="tag-filter px-3 py-1 rounded-full bg-gray-100 text-primary-700 capitalize text-xs border border-primary hover:bg-primary hover:text-white transition whitespace-nowrap"
            data-tag="{{ . }}"
          >
            {{ . }}
          </button>
          {{ end }}
        </div>
      </div>
    </div>

    <!-- Articles Grid -->
    <div id="articlesGrid" class="flex flex-col gap-6 mt-4">
      {{ range .items }}
      <div
        class="article-card bg-white rounded-lg shadow border border-gray-200 flex flex-col gap-2 p-4"
        data-tags="{{ range $i, $tag := .tags }}{{ if $i }},{{ end }}{{ $tag }}{{ end }}"
      >
        <div class="flex justify-between items-start mb-2">
          <h3 class="text-xl font-bold text-gray-800 hover:text-primary">
            {{ .title }}
          </h3>
          <span class="text-xs text-gray-500">{{ .date }}</span>
        </div>
        <p class="text-gray-700 text-sm mb-4">{{ .description }}</p>
        <div class="flex flex-wrap gap-2 mb-4">
          {{ range .tags }}
          <span
            class="bg-gray-100 text-primary-700 text-xs px-2 py-1 rounded-full capitalize"
            >{{ . }}</span
          >
          {{ end }}
        </div>
        <div class="flex justify-between items-center">
          <span class="text-sm text-gray-500"
            >Published on {{ .published_on }}</span
          >
          <a
            href="{{ .link }}"
            target="_blank"
            rel="noopener"
            class="p-2 rounded-full bg-primary text-white hover:bg-primary/90 focus:ring-4 focus:outline-none focus:ring-primary/50 border border-gray-300 transition"
            aria-label="Read More"
          >
            <svg
              class="w-5 h-5"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 14 10"
            >
              <path
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M1 5h12m0 0L9 1m4 4L9 9"
              />
            </svg>
          </a>
        </div>
      </div>
      {{ end }}
    </div>
  </section>
</div>

{{ end }}
